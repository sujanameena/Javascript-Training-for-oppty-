<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Callback Hell Simple Demo</title>
</head>

<body>

  <script>
    // Fake async: get marks from "server"
function getMarks(studentId, callback) {
  setTimeout(function () {
    console.log("Marks received for student:", studentId);
    callback(null, { studentId: studentId, marks: 90 }); // no error
  }, 500);
}

// Fake async: save result to "database" (this fails)
function saveResult(result, callback) {
  setTimeout(function () {
    // Something goes wrong
    callback(new Error("Database error while saving result"));
  }, 500);
}

function start() {
  getMarks(1, function (err, result) {
    if (err) {
      console.log("Error getting marks:", err.message);
      return;
    }

    // ‚ùå We forget to check `err2` here
    saveResult(result, function (err2, savedData) {
      // if (err2) { ... }  // <-- missing

      console.log("Result saved:", savedData); // prints: undefined
      console.log("Done (real error was ignored)");
    });
  });
}

start();

/*
Console output:

Marks received for student: 1
Result saved: undefined
Done (real error was ignored)
*/
    
  </script>
</body>

</html>